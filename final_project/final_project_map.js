var BurjPopup = "Burj Khalifa<br/>Location: Dubai, United Arab Emirates</br>Height: 828m/2,171ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/7/7f/Dubai_Skylines_Alex_Azabache_%28Pexels_3214995%29.jpg' width='200px'/>";

var MerdekaPopup = "Merdeka 118<br/>Location: Kuala Lumpur, Malaysia</br>Height: 678.9m/2,227ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/d/dd/Merdeka_118_on_March_13_2022.jpg' width='200px'/>";

var ShanghaiPopup = "Shanghai Tower<br/>Location: Shanghai, China</br>Height: 632m/2,073ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/f/f5/Shanghai_-_Shanghai_Tower_-_0003.jpg', width='200px'/>";

var MakkahPopup = "Makkah Royal Tower<br/>Location: Mecca, Saudi Arabia</br>Height: 601m/1,972ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/3/34/%D8%A8%D8%B1%D8%AC_%D8%B3%D8%A7%D8%B9%D8%A9_%D9%85%D9%83%D8%A9.jpg', width='200px'/>";

var GoldinPopup = "Goldin Finance 177<br/>Location: Tianjin, China</br>Height: 596m/1,957ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/4/48/Goldin_Finance_117_1.jpg', width='200px'/>";

var PinganPopup = "Ping An International Finance Centre<br/>Location: Shenzhen, China</br>Height: 599.1m/1,965ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/0/0d/Pingan_International_Finance_Center2020.jpg', width='200px'/>";

var LottePopup = "Lotte World Tower<br/>Location: Seoul, South Korea</br>Height: 554.5m/1,819ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/f/f3/%EC%84%9D%EC%B4%8C_%ED%98%B8%EC%88%98%EA%B3%B5%EC%9B%90_%ED%98%B8%EC%88%98_%288%29.jpg', width='200px'/>";

var OneworldPopup = "One World Trade Center<br/>Location: New York City, New York</br>Height: 541.3m/1,776ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/7/77/World_Trade_Center_building.jpg', width='200px'/>";

var TianjinPopup = "Tianjin CTF Finance Centre<br/>Location: Tianjin, China</br>Height: 530m/1,739ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/9/97/Tianjin_CTF_Finance_Centre%2C_21_of_24.jpg', width='200px'/>";

var GaungzhouPopup = "Gaungzhou Chow Tai Fook Financial Center<br/>Location: Guangzhou, China</br>Height: 530m/1,739ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/9/9b/Canton_CTF_Finance_Center_%282017-08-30%2C_Final%29.jpg', width='200px'/>";

var ChinazunPopup = "China Zun Tower<br/>Location: Beijing, China</br>Height: 527.7m/1,731ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/9/95/China_Zun_tillsammans_med_Samsung_China_Headquarters_B._%28januari_2019%29.jpg', width='200px'/>";

var TaipeiPopup = "Taipei 101<br/>Location: Taipei, China</br>Height: 508m/1,667ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/0/00/101.portrait.altonthompson.jpg', width='200px'/>";

var ShanghaiworldPopup = "Shanghai World Financial Center<br/>Location: Shanghai, China</br>Height: 492m/1,614ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/d/d9/%E4%B8%8A%E6%B5%B7%E5%9B%BD%E9%99%85%E9%87%91%E8%9E%8D%E4%B8%AD%E5%BF%83.jpg', width='200px'/>";

var InternationalPopup = "International Commerce Centre<br/>Location: Hong Kong, China</br>Height: 484m/1,588ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/1/1d/International_Commerce_Centre_200911.jpg', width='200px'/>";

var CentralparkPopup = "Central Park Tower<br/>Location: New York City, New York</br>Height: 472.4m/1,550ft</br><img src='https://upload.wikimedia.org/wikipedia/commons/8/81/Central_Park_Tower_April_2021.jpg', width='200px'/>";

var NewyorkPopup = "New York City<br/>Location: United States</br>GDP: $1.5 Trillion<img src='https://upload.wikimedia.org/wikipedia/commons/2/2b/NYC_Downtown_Manhattan_Skyline_seen_from_Paulus_Hook_2019-12-20_IMG_7347_FRD_%28cropped%29.jpg', width='200px'/>";

var LondonPopup = "London<br/>Location: England</br>GDP: >$632 billion<img src='https://upload.wikimedia.org/wikipedia/commons/c/cd/London_Montage_L.jpg', width='200px'/>";

var TokyoPopup = "Tokyo<br/>Location: Japan</br>GDP: $1.0 Trillion<img src='https://upload.wikimedia.org/wikipedia/commons/e/ef/Akiba_denkigai.jpg', width='200px'/>";

var SiliconvalleyPopup = "Silicon Valley<br/>Location: United States</br>GDP: >$525 billion<img src='https://upload.wikimedia.org/wikipedia/commons/a/ae/Map_silicon_valley_cities.png', width='200px'/>";

var BeijingPopup = "Beijing<br/>Location: China</br>GDP: >$610 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/0/06/Skyline_of_Beijing_CBD_with_B-5906_approaching_%2820211016171955%29.jpg', width='200px'/>";

var ShangPopup = "Shanghai<br/>Location: China</br>GDP: >$658 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/a/af/Pudong_in_Shanghai.jpg', width='200px'/>";

var LosangelesPopup = "Los Angeles<br/>Location: United States</br>GDP: $790 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/6/69/Los_Angeles_with_Mount_Baldy.jpg', width='200px'/>";

var HongkongPopup = "Hong Kong<br/>Location: China</br>GDP: >$346 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/f/fd/13-08-09-peak-by-RalfR-01.jpg', width='200px'/>";

var SydneyPopup = "Sydney<br/>Location: Australia</br>GDP: $461 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/b/bb/Sydney_Harbour_welcomes_Jessica_Watson.jpg', width='200px'/>";

var SingaporePopup = "Singapore<br/>GDP: $340 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/1/11/Raffles_Place.jpg', width='200px'/>";

var DubaiPopup = "Dubai<br/>Location: United Arab Emirates</br>GDP: >$102 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/8/86/DubaiCollage.jpg', width='200px'/>";

var MoscowPopup = "Moscow<br/>Location: Russia</br>GDP: $Unknown<img src='https://upload.wikimedia.org/wikipedia/commons/3/3b/%D0%9A%D1%80%D0%B0%D1%81%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BB%D0%BE%D1%89%D0%B0%D0%B4%D1%8C1.jpg', width='200px'/>";

var ShenzenPopup = "Shenzen<br/>Location: China</br>GDP: >$474 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/7/79/Shenzhen_montage_%282019%29.png', width='200px'/>";

var HangzhouPopup = "Hangzhou<br/>Location: China</br>GDP: >$280 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/f/f7/Hangzhou_CBD_%28Cropped%29.jpg', width='200px'/>";

var SeoulPopup = "Seoul<br/>Location: South Korea</br>GDP: >$384 Billion<img src='https://upload.wikimedia.org/wikipedia/commons/0/0e/Seul_montaje.png', width='200px'/>";


var customOptions ={'maxWidth': '200px','className' : 'custom'};


var skyscrapers = L.layerGroup();

var Burj = L.marker([25.1972, 55.2744]).bindPopup(BurjPopup, customOptions).addTo(skyscrapers);
var Merdeka = L.marker([3.1418, 101.7006]).bindPopup(MerdekaPopup, customOptions).addTo(skyscrapers);
var Shanghai = L.marker([31.2335, 121.5056]).bindPopup(ShanghaiPopup, customOptions).addTo(skyscrapers);
var Makkah = L.marker([21.4193, 39.8254]).bindPopup(MakkahPopup, customOptions).addTo(skyscrapers);
var Goldin = L.marker([39.0914, 117.0903]).bindPopup(GoldinPopup, customOptions).addTo(skyscrapers);
var Pingan = L.marker([22.5331, 114.0559]).bindPopup(PinganPopup, customOptions).addTo(skyscrapers);
var Lotte = L.marker([37.5137, 127.1052]).bindPopup(LottePopup, customOptions).addTo(skyscrapers);
var Oneworld = L.marker([40.71304636003342, -74.01323722798244]).bindPopup(OneworldPopup, customOptions).addTo(skyscrapers);
var Tianjin = L.marker([39.0217, 117.6981]).bindPopup(TianjinPopup, customOptions).addTo(skyscrapers);
var Gaungzhou = L.marker([23.1176, 113.3259]).bindPopup(GaungzhouPopup, customOptions).addTo(skyscrapers);
var Chinazun = L.marker([39.9115, 116.4602]).bindPopup(ChinazunPopup, customOptions).addTo(skyscrapers);
var Taipei = L.marker([25.0338, 121.5646]).bindPopup(TaipeiPopup, customOptions).addTo(skyscrapers);
var Shanghaiworld = L.marker([31.2344, 121.5078]).bindPopup(ShanghaiworldPopup, customOptions).addTo(skyscrapers);
var International = L.marker([22.3034, 114.1602]).bindPopup(InternationalPopup, customOptions).addTo(skyscrapers);
var Centralpark = L.marker([40.76664685311965, -73.9808926055083]).bindPopup(CentralparkPopup, customOptions).addTo(skyscrapers);

var wealth = L.layerGroup();

var Newyork = L.marker([40.713437833163105, -73.99241026220852]).bindPopup(NewyorkPopup, customOptions).addTo(wealth);
var London = L.marker([51.516463066684416, -0.12220591154930491]).bindPopup(LondonPopup, customOptions).addTo(wealth);
var Tokyo = L.marker([35.684617826803894, 139.76094887046975]).bindPopup(TokyoPopup, customOptions).addTo(wealth);
var Siliconvalley = L.marker([37.36438004553535, -122.03574372523528]).bindPopup(SiliconvalleyPopup, customOptions).addTo(wealth);
var Beijing = L.marker([39.943491238815966, 116.3604106584501]).bindPopup(BeijingPopup, customOptions).addTo(wealth);
var Shang = L.marker([31.22265882311088, 121.46119792082271]).bindPopup(ShangPopup, customOptions).addTo(wealth);
var Losangeles = L.marker([34.07750698516979, -118.25690133749399]).bindPopup(LosangelesPopup, customOptions).addTo(wealth);
var Hongkong = L.marker([22.317496036784103, 114.17567867799767]).bindPopup(HongkongPopup, customOptions).addTo(wealth);
var Sydney = L.marker([-33.878617160622206, 151.20261605230618]).bindPopup(SydneyPopup, customOptions).addTo(wealth);
var Singapore = L.marker([1.3482516173226213, 103.85385939002641]).bindPopup(SingaporePopup, customOptions).addTo(wealth);
var Dubai = L.marker([25.210648660346205, 55.26506549571614]).bindPopup(DubaiPopup, customOptions).addTo(wealth);
var Moscow = L.marker([55.74751645259191, 37.61210744517882]).bindPopup(MoscowPopup, customOptions).addTo(wealth);
var Shenzen = L.marker([22.546058047446007, 114.06140235026031]).bindPopup(ShenzenPopup, customOptions).addTo(wealth);
var Hangzhou = L.marker([30.289835704615538, 120.15462426416376]).bindPopup(HangzhouPopup, customOptions).addTo(wealth);
var Seoul = L.marker([37.54997137733925, 126.99076967707605]).bindPopup(SeoulPopup, customOptions).addTo(wealth);

coords = [
    [25.1972, 55.2744],
    [31.2335, 121.5056],
    [21.4193, 39.8254],
    [22.5331, 114.0559],
    [37.5137, 127.1052],
    [40.71304636003342, -74.01323722798244],
    [23.1176, 113.3259],
    [39.0217, 117.6981],
    [39.9115, 116.4602],
    [25.0338, 121.5646],
];

var streets = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2NoYXVkaHVyaSIsImEiOiJjazBtcG5odG8wMDltM2JtcjdnYTgyanBnIn0.qwqjMomdrBMG36GQKXBlMw', {
    maxZoom: 18,
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    id: 'mapbox/streets-v11',
    tileSize: 512,
    zoomOffset: -1
});


var grayscale = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2NoYXVkaHVyaSIsImEiOiJjazBtcG5odG8wMDltM2JtcjdnYTgyanBnIn0.qwqjMomdrBMG36GQKXBlMw', {
    maxZoom: 18,
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    id: 'mapbox/light-v9',
    tileSize: 512,
    zoomOffset: -1
});

var topo = L.tileLayer.wms('http://ows.mundialis.de/services/service?', {
    layers: 'SRTM30-Colored-Hillshade'
});


var mymap = L.map("map", {
    center: [21.558644297081543, 8.38126711447991], 
    zoom: 3,
    layers: [streets, skyscrapers]});

var line = L.polyline(coords, {color: "purple", weight: 2});
line.addTo(mymap);

var baseLayers = {
    'Streets': streets,
    'Grayscale': grayscale,
    "Hillshade": topo,
	};

var overlays = {'Skyscrapers': skyscrapers, 'Wealth': wealth, 'Ten Tallest': line};

var layerControl = L.control.layers(baseLayers, overlays, {collapsed: false}).addTo(mymap);

var miniMap = new L.Control.MiniMap(L.tileLayer('https://api.maptiler.com/maps/topo/{z}/{x}/{y}.png?key=tZnptaeI9RvKHsX18rbW'), {
    toggleDisplay: true,
    minimized: true,
    position: 'bottomleft'
}).addTo(mymap);

L.easyButton(('<img src="images/globe_icon.png", height=85%>'), function(btn, map){
    map.setView([6.794952075439587, 20.91148703911037], 3);
}).addTo(mymap);
